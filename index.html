<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BD Colony Drive</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <h1>BD Colony Drive</h1>
    <p>Though we’ve graduated, we stay connected—sharing memories, files, and moments that keep our brotherhood alive.</p>
    
    <div class="flex-container">
      <!-- ============================
           Google Drive Embed
           ============================ -->
      <iframe class="drive-embed"
        src="https://drive.google.com/embeddedfolderview?id=1A2_CeiqI4ZsCJ8lthkV5pk66OBvjCje7#grid"
        frameborder="0">
      </iframe>

      <!-- ============================
           Firebase Notes Board
           ============================ -->
      <div class="notes-board">
        <h2>BD Colony Notes</h2>
        <form id="note-form">
          <input type="text" id="note-input" placeholder="Write a note..." required>
          <button type="submit">Post</button>
        </form>
        <ul id="notes-list"></ul>
      </div>
    </div>
  </div>

  <!-- ============================
       Firebase SDKs (Compat Version)
       ============================ -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script>
    // ============================
    // ADD YOUR FIREBASE CONFIG HERE
    // ============================
    const firebaseConfig = {
      apiKey: "AIzaSyC3xwZw0ay7lemZw7WV2mjeavTZM9YzFq0",
      authDomain: "bd-colony-chat.firebaseapp.com",
      projectId: "bd-colony-chat",
      storageBucket: "bd-colony-chat.firebasestorage.app",
      messagingSenderId: "565290572805",
      appId: "1:565290572805:web:610051f7d886bbe632106c",
      measurementId: "G-X6KYSG1HDX"
    };

    // Initialize Firebase (compat)
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Elements
    const notesList = document.getElementById('notes-list');
    const noteForm = document.getElementById('note-form');
    const noteInput = document.getElementById('note-input');

    // Submit note
    noteForm.addEventListener('submit', (e) => {
      e.preventDefault();
      if (noteInput.value.trim() !== "") {
        db.collection("notes").add({
          text: noteInput.value,
          timestamp: firebase.firestore.FieldValue.serverTimestamp()
        }).then(() => {
          noteInput.value = '';
        });
      }
    });

    // Real-time listener (newest first)
    db.collection("notes")
      .orderBy("timestamp", "desc")
      .onSnapshot((snapshot) => {
        notesList.innerHTML = "";
        snapshot.forEach((doc) => {
          const data = doc.data();
          const li = document.createElement('li');
          li.textContent = data.text || "(empty)";
          notesList.appendChild(li);
        });
      });
  </script>
</body>
</html>
